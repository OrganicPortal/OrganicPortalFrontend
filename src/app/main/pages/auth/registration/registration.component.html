@let loaderState = loaderState$ | async;

<form class="form-data"
      (ngSubmit)="onSubmit()"
      [formGroup]="registrationForm">
	<div class="page-title">
		<app-auth-logo></app-auth-logo>
		<h2>
			Create Account
		</h2>
	</div>
	
	<div class="fields">
		<custom-input-field>
			<ngx-icon [name]="'text-square-2'"
			          [ratio]="'1em'"></ngx-icon>
			<label for="name">Name</label>
			
			<input id="name"
			       [formControlName]="'name'"
			       autocomplete="on"
			       customInput
			       type="text">
		</custom-input-field>
		
		<custom-input-field>
			<ngx-icon [name]="'text-square-2'"
			          [ratio]="'1em'"></ngx-icon>
			<label for="lastname">Last Name</label>
			
			<input id="lastname"
			       [formControlName]="'lastName'"
			       autocomplete="on"
			       customInput
			       type="text">
		</custom-input-field>
		
		<custom-input-field>
			<ngx-icon [name]="'text-square-2'"
			          [ratio]="'1em'"></ngx-icon>
			<label for="secondname">Middle Name</label>
			
			<input id="secondname"
			       [formControlName]="'secondName'"
			       autocomplete="on"
			       customInput
			       type="text">
		</custom-input-field>
		
		<custom-input-field>
			<ngx-icon [name]="'phone-calling-rounded'"
			          [ratio]="'1em'"></ngx-icon>
			<label for="phone">Phone Number</label>
			
			<input id="phone"
			       [formControlName]="'phone'"
			       autocomplete="on"
			       customInput
			       type="text">
		</custom-input-field>
		
		<custom-input-field>
			<ngx-icon [name]="'lock-password-unlocked'"
			          [ratio]="'1em'"></ngx-icon>
			<label for="password">Password</label>
			
			<div customInputSuffix>
				<div class="input-suffix"
				     (click)="onHandlerPassword(password)"
				     [matRippleColor]="'var(--mat-ripple-suffix-color)'"
				     customInputSuffix
				     matRipple>
					
					@if (password.type != 'password') {
						<ngx-icon [name]="'eye'"
						          [ratio]="'1em'"></ngx-icon>
					} @else {
						<ngx-icon [name]="'eye-closed'"
						          [ratio]="'1em'"></ngx-icon>
					}
				</div>
			</div>
			
			<input id="password"
			       [formControlName]="'password'"
			       #password
			       autocomplete="new-password"
			       customInput
			       type="password">
		</custom-input-field>
	</div>
	
	<button class="btn submit-btn"
	        [type]="'submit'"
	        customBasicButton
	        matRipple>
		<ngx-icon [name]="'passport-minimalistic'"
		          [ratio]="'1.3em'"></ngx-icon>
		
		<span>Sign Up</span>
	</button>
</form>

<span class="mark">
	or
</span>

<a class="btn submit-btn link"
   [queryParamsHandling]="'merge'"
   [routerLink]="RoutesRedirects.login"
   [type]="'submit'"
   customRaisedButton
   matRipple>
	<ngx-icon [name]="'login-3'"
	          [ratio]="'1.3em'"></ngx-icon>
	<span>Sign In</span>
</a>

@if (!loaderState?.isLoaded) {
	<dots-loadbar class="loader disabled-bg"></dots-loadbar>
}
